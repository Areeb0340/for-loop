<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        .hidden { display: none; }
        .matrix { margin: 10px 0; }
    </style>
</head>
<body>
    <center>
        <h1>Matrix Calculator</h1>
        <h3>Enter Same Size:</h3>
        <input type="number" min="2" id="input1" required>
        &nbsp; X &nbsp;
        <input type="number" min="2" id="input2" required>
        &nbsp;&nbsp;
        <button onclick="start()">Start</button>
    </center> 
     <br>
    <div id="matrix-container" class="hidden">
        <div class="matrix" id="matrix1"></div>
        + 
        <div class="matrix" id="matrix2"></div>
        <button onclick="calculate('sum')">Sum</button>
        <button onclick="calculate('subtract')">Subtract</button>
        <button onclick="calculate('multiply')">Multiply</button>
        <div style="color: red;">Result: <span id="result"></span></div>
    </div>

    <script>
        function start() {
            const rows = document.getElementById('input1').value;
            const cols = document.getElementById('input2').value;

            if (rows !== cols) {
                alert('Please enter the same value for both dimensions');
                return;
            }

            // Clear previous matrices
            document.getElementById('matrix1').innerHTML = '';
            document.getElementById('matrix2').innerHTML = '';
            document.getElementById('result').innerText = '';

            // Create matrix input fields
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    document.getElementById('matrix1').innerHTML += `<input type="number" id="m1-${i}-${j}" value="0" min="0" max="100"> `;
                    document.getElementById('matrix2').innerHTML += `<input type="number" id="m2-${i}-${j}" value="0" min="0" max="100"> `;
                }
                document.getElementById('matrix1').innerHTML += '<br>';
                document.getElementById('matrix2').innerHTML += '<br>';
            }

            document.getElementById('matrix-container').classList.remove('hidden');
        }

        function calculate(operation) {
            const matrix1 = getMatrixValues('m1');
            const matrix2 = getMatrixValues('m2');
            let result;

            if (operation === 'sum') {
                result = operateMatrices(matrix1, matrix2, (a, b) => a + b);
            } else if (operation === 'subtract') {
                result = operateMatrices(matrix1, matrix2, (a, b) => a - b);
            } else if (operation === 'multiply') {
                result = multiplyMatrices(matrix1, matrix2);
            }

            displayResult(result);
        }

        function getMatrixValues(prefix) {
            const matrix = [];
            const inputs = document.querySelectorAll(`input[id^="${prefix}-"]`);
            inputs.forEach(input => {
                const [i, j] = input.id.split('-').slice(1).map(Number);
                if (!matrix[i]) matrix[i] = [];
                matrix[i][j] = +input.value;
            });
            return matrix;
        }

        function operateMatrices(a, b, operation) {
            return a.map((row, i) => row.map((val, j) => operation(val, b[i][j])));
        }

        function multiplyMatrices(a, b) {
            const rowsA = a.length;
            const colsA = a[0].length;
            const colsB = b[0].length;
            const result = Array.from({ length: rowsA }, () => Array(colsB).fill(0));

            for (let i = 0; i < rowsA; i++) {
                for (let j = 0; j < colsB; j++) {
                    for (let k = 0; k < colsA; k++) {
                        result[i][j] += a[i][k] * b[k][j];
                    }
                }
            }
            return result;
        }


        function displayResult(matrix) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '';

            matrix.forEach(row => {
                resultDiv.innerHTML += row.join(' ') + '<br>';
            });
        }
</script>

</body>
</html>
